@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes breathing {
  0%,
  100% {
    transform: scale(0.95);
    opacity: 0.8;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

@layer base {
  :root {
    /* ============================================
       LIGHT MODE - Cool-neutral grays with subtle blue tint
       Designed for readability, hierarchy, and restraint
       ============================================ */

    /* Core Surface Colors (cool-neutral, subtle blue tint) */
    --background: 220 14% 96%; /* App background - off-white with cool tint */
    --foreground: 224 71% 4%; /* Primary text - near-black, not pure black */
    --card: 0 0% 100%; /* Card surfaces - pure white */
    --card-foreground: 224 71% 4%;
    --popover: 0 0% 100%; /* Popover/dropdown surfaces */
    --popover-foreground: 224 71% 4%;

    /* Panel/Sidebar surfaces - subtle tinted white */
    --sidebar: 220 14% 98%;
    --sidebar-foreground: 224 71% 4%;

    /* Brand & Accent Colors */
    --primary: 221 83% 53%; /* Brand blue - consistent across themes */
    --primary-foreground: 210 40% 98%;
    --secondary: 220 14% 96%; /* Subtle cool gray */
    --secondary-foreground: 224 71% 4%;
    --accent: 220 14% 93%; /* Hover/focus backgrounds */
    --accent-foreground: 224 71% 4%;

    /* Muted/Subdued Colors */
    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%; /* Secondary text - WCAG AA on white */

    /* Semantic Colors */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --success: 142 71% 35%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;

    /* Borders & Inputs */
    --border: 220 13% 91%; /* Subtle cool-gray borders */
    --border-subtle: 220 13% 94%; /* Even lighter for fine dividers */
    --input: 220 13% 91%;
    --ring: 221 83% 53%;

    /* Skeleton Loading Colors */
    --skeleton: 220 13% 91%;
    --skeleton-shimmer: 220 13% 95%;

    /* ============================================
       Border Radius Tokens
       ============================================ */
    --radius: 0.75rem;
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;
    --radius-full: 9999px;

    /* ============================================
       Spacing Scale Tokens
       ============================================ */
    --spacing-1: 0.25rem;
    --spacing-2: 0.5rem;
    --spacing-3: 0.75rem;
    --spacing-4: 1rem;
    --spacing-5: 1.25rem;
    --spacing-6: 1.5rem;
    --spacing-8: 2rem;
    --spacing-10: 2.5rem;
    --spacing-12: 3rem;
    --spacing-16: 4rem;
    --spacing-20: 5rem;
    --spacing-24: 6rem;

    /* ============================================
       Shadow Tokens - Minimal, soft shadows for light mode
       Low opacity, large blur, small Y-offset
       ============================================ */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.03);
    --shadow-md:
      0 2px 8px -2px rgb(0 0 0 / 0.05), 0 1px 2px -1px rgb(0 0 0 / 0.03);
    --shadow-lg:
      0 4px 16px -4px rgb(0 0 0 / 0.06), 0 2px 6px -2px rgb(0 0 0 / 0.04);
    --shadow-xl:
      0 8px 24px -6px rgb(0 0 0 / 0.08), 0 4px 10px -4px rgb(0 0 0 / 0.04);
    --shadow-2xl: 0 16px 40px -12px rgb(0 0 0 / 0.1);
    --shadow-inner: inset 0 1px 2px 0 rgb(0 0 0 / 0.03);

    /* Card-specific shadow - minimal elevation */
    --shadow-card:
      0 1px 3px 0 rgb(0 0 0 / 0.02), 0 1px 2px -1px rgb(0 0 0 / 0.02);
    --shadow-card-hover:
      0 4px 12px -4px rgb(0 0 0 / 0.06), 0 2px 4px -2px rgb(0 0 0 / 0.03);

    /* Dropdown/popover shadow */
    --shadow-dropdown:
      0 4px 16px -4px rgb(0 0 0 / 0.08), 0 2px 6px -2px rgb(0 0 0 / 0.04);

    /* ============================================
       Z-index Scale
       ============================================ */
    --z-base: 0;
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-toast: 1070;
    --z-tooltip: 1080;
  }

  .dark {
    /* ============================================
       DARK MODE - Deep Navy, premium feel
       ============================================ */

    /* Core Surface Colors */
    --background: 222 47% 7%; /* Deep navy app background */
    --foreground: 210 40% 98%; /* Light text */
    --card: 222 47% 10%; /* Card surfaces */
    --card-foreground: 210 40% 98%;
    --popover: 222 47% 9%;
    --popover-foreground: 210 40% 98%;

    /* Panel/Sidebar surfaces */
    --sidebar: 222 47% 6%;
    --sidebar-foreground: 210 40% 98%;

    /* Brand & Accent Colors */
    --primary: 221 83% 53%;
    --primary-foreground: 210 40% 98%;
    --secondary: 222 47% 15%;
    --secondary-foreground: 210 40% 98%;
    --accent: 222 47% 15%;
    --accent-foreground: 210 40% 98%;

    /* Muted/Subdued Colors */
    --muted: 222 47% 15%;
    --muted-foreground: 215 20% 70%;

    /* Semantic Colors */
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;
    --success: 142 76% 36%;
    --success-foreground: 355 100% 97%;
    --warning: 38 92% 50%;
    --warning-foreground: 48 96% 89%;

    /* Borders & Inputs */
    --border: 222 47% 18%;
    --border-subtle: 222 47% 14%;
    --input: 222 47% 18%;
    --ring: 221 83% 53%;

    /* Skeleton Loading Colors */
    --skeleton: 222 47% 15%;
    --skeleton-shimmer: 222 47% 18%;

    /* Shadow Tokens - Dark mode uses lighter shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow-md:
      0 2px 8px -2px rgb(0 0 0 / 0.4), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --shadow-lg:
      0 4px 16px -4px rgb(0 0 0 / 0.5), 0 2px 6px -2px rgb(0 0 0 / 0.4);
    --shadow-xl:
      0 8px 24px -6px rgb(0 0 0 / 0.6), 0 4px 10px -4px rgb(0 0 0 / 0.4);
    --shadow-2xl: 0 16px 40px -12px rgb(0 0 0 / 0.7);
    --shadow-inner: inset 0 1px 2px 0 rgb(0 0 0 / 0.2);
    --shadow-card:
      0 1px 3px 0 rgb(0 0 0 / 0.2), 0 1px 2px -1px rgb(0 0 0 / 0.15);
    --shadow-card-hover:
      0 8px 24px -8px rgb(0 0 0 / 0.5), 0 4px 8px -4px rgb(0 0 0 / 0.3);
    --shadow-dropdown:
      0 8px 24px -8px rgb(0 0 0 / 0.6), 0 4px 12px -4px rgb(0 0 0 / 0.4);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground min-h-screen font-sans antialiased;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Focus visible styles */
  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Smooth theme transitions */
  html.theme-transitioning,
  html.theme-transitioning *,
  html.theme-transitioning *::before,
  html.theme-transitioning *::after {
    transition:
      background-color 300ms ease-in-out,
      border-color 300ms ease-in-out,
      color 300ms ease-in-out !important;
  }
}

@layer utilities {
  /* Page transition utilities */
  .page-transition {
    @apply animate-fade-in;
  }

  /* Hover lift effect */
  .hover-lift {
    @apply transition-transform duration-200 ease-out hover:scale-[1.02] hover:shadow-lg;
  }

  /* Smooth transitions */
  .transition-smooth {
    @apply transition-all duration-250 ease-out;
  }

  /* Interactive element transitions */
  .interactive {
    @apply transition-all duration-200 ease-out active:scale-95;
  }

  /* Standardized spacing utilities */
  .section-spacing {
    @apply space-y-6;
  }

  .card-spacing {
    @apply p-6;
  }

  .card-spacing-tight {
    @apply p-4;
  }

  .card-spacing-spacious {
    @apply p-8;
  }

  .form-spacing {
    @apply space-y-4;
  }

  .content-spacing {
    @apply space-y-3;
  }

  /* Standardized typography */
  .heading-1 {
    @apply text-3xl font-bold tracking-tight;
  }

  .heading-2 {
    @apply text-2xl font-semibold tracking-tight;
  }

  .heading-3 {
    @apply text-xl font-semibold;
  }

  .heading-4 {
    @apply text-lg font-semibold;
  }

  .body-text {
    @apply text-sm text-foreground;
  }

  .muted-text {
    @apply text-sm text-muted-foreground;
  }

  .small-text {
    @apply text-xs text-muted-foreground;
  }

  /* Standardized container widths */
  .container-narrow {
    @apply max-w-2xl mx-auto;
  }

  .container-medium {
    @apply max-w-4xl mx-auto;
  }

  .container-wide {
    @apply max-w-6xl mx-auto;
  }

  /* Skeleton loading */
  .skeleton {
    @apply animate-pulse bg-muted rounded;
  }

  /* Screen reader only - accessible but visually hidden */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Accessibility: Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

*:focus,
*:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}
